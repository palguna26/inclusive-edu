.app-root { display: flex; flex-direction: column; min-height: 100vh; }
.app-header { display: flex; align-items: center; gap: 1rem; padding: 0.75rem 1rem; background: #0b1020; color: #fff; position: sticky; top: 0; z-index: 10; }
.brand { font-weight: 700; }
.spacer { flex: 1; }
.points { font-weight: 600; }

.app-main { display: grid; grid-template-columns: 280px 1fr; gap: 1rem; padding: 1rem; }
.sidebar { display: flex; flex-direction: column; gap: 1rem; }
.lessons { background: #0f1530; color: #fff; border-radius: 12px; padding: 0.75rem; }
.lessons h3 { margin: 0 0 0.5rem 0; font-size: 1rem; }
.lesson-item { display: block; width: 100%; text-align: left; background: #141a3a; color: #fff; border: 1px solid #293069; margin-bottom: 0.5rem; border-radius: 8px; padding: 0.5rem 0.75rem; }
.lesson-item.active { border-color: #5b76ff; box-shadow: 0 0 0 2px #5b76ff33 inset; }

.accessibility-bar { display: flex; gap: 0.5rem; flex-wrap: wrap; background: #0f1530; padding: 0.5rem; border-radius: 12px; }
.accessibility-bar button { background: #141a3a; color: #fff; border: 1px solid #293069; border-radius: 8px; padding: 0.4rem 0.6rem; }
.accessibility-bar.high-contrast { filter: contrast(1.3) brightness(1.1); }

.scene { background: radial-gradient(1200px 600px at 50% -10%, #1b2559, #0b1020); border-radius: 16px; overflow: hidden; min-height: 60vh; display: flex; align-items: stretch; justify-content: center; }
.vr-container { width: 100%; }
.vr-container a-scene { width: 100%; height: 60vh; display: block; background: #000022; }

.caption-bar { position: fixed; left: 0; right: 0; bottom: 0; margin: 0 auto; width: min(900px, 90%); background: rgba(0,0,0,0.8); color: #fff; padding: 0.6rem 0.9rem; border-radius: 10px; backdrop-filter: blur(4px); border: 1px solid #3a3a6b; }

.chatbot { position: fixed; right: 1rem; bottom: 1rem; z-index: 20; }
.chatbot-fab { background: #5b76ff; color: #fff; border-radius: 50%; width: 52px; height: 52px; border: none; box-shadow: 0 6px 20px #5b76ff66; }
.chatbot-modal { position: fixed; right: 1rem; bottom: 5rem; width: 320px; max-height: 60vh; background: #0f1530; color: #fff; border: 1px solid #293069; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; }
.chatbot-header { display: flex; align-items: center; justify-content: space-between; padding: 0.5rem 0.75rem; border-bottom: 1px solid #293069; }
.chatbot-body { flex: 1; overflow: auto; display: flex; flex-direction: column; gap: 0.5rem; padding: 0.75rem; }
.msg.user { align-self: flex-end; background: #1e274f; padding: 0.4rem 0.6rem; border-radius: 10px; }
.msg.assistant { align-self: flex-start; background: #162045; padding: 0.4rem 0.6rem; border-radius: 10px; }
.chatbot-input { display: flex; gap: 0.5rem; padding: 0.5rem; border-top: 1px solid #293069; }
.chatbot-input input { flex: 1; background: #0b1020; border: 1px solid #293069; border-radius: 8px; color: #fff; padding: 0.4rem 0.6rem; }
.chatbot-input button { background: #5b76ff; color: #fff; border: none; border-radius: 8px; padding: 0.4rem 0.8rem; }

@media (max-width: 900px) {
  .app-main { grid-template-columns: 1fr; }
}

.gamification { position: fixed; left: 1rem; bottom: 1rem; background: #141a3a; color: #fff; border: 1px solid #293069; border-radius: 12px; padding: 0.5rem 0.75rem; display: flex; align-items: center; gap: 0.75rem; }
.gamification button { background: #18c964; color: #0b1020; border: none; border-radius: 8px; padding: 0.4rem 0.6rem; }
